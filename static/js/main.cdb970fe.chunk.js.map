{"version":3,"sources":["components/ImageGalleryItem/imageGalleryItem.module.css","components/Modal/modal.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","app.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Services/SearchApi.js","App.js","index.js","components/Searchbar/searchBar.module.css"],"names":["module","exports","Searchbar","state","name","handleChange","evt","value","currentTarget","setState","handleSubmit","preventDefault","trim","props","inputSubmit","reset","alert","className","styles","onSubmit","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","autoFocus","placeholder","required","Component","ImageGalleryItem","hits","map","id","tags","webformatURL","largeImageURL","onClick","src","lowsrc","alt","ImageGalleryItem_image","Button","btnName","ImageGallery","gallery","loadMore","showModal","Loader","Spinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","SearchApi","search","page","fetch","then","response","ok","json","Promise","reject","Error","App","largeImg","loading","loaderStatus","error","toggleModal","console","log","handleInputSubmit","input","handleLoadMore","prevState","prevProps","prevSearch","nextSearch","prevPage","nextPage","data","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cdb970fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__2dpnm\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__2WKdd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1Pmyr\",\"Modal\":\"modal_Modal__vvqk3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__2QZyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2w6fF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"loader_Spinner__1p9Qc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__3VKGL\"};","import React, { Component } from 'react';\r\n\r\nimport styles from './searchBar.module.css'\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        name: '',    \r\n    }\r\n    \r\n    handleChange = (evt) => {\r\n        const { value } = evt.currentTarget;\r\n        this.setState({ name: value });\r\n    }\r\n\r\n    handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        if (this.state.name.trim() === \"\") {\r\n            alert('Enter search request');\r\n            return;\r\n        }\r\n        this.props.inputSubmit(this.state.name);\r\n        \r\n        this.reset();\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({ name: '' });\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n                    <button type=\"submit\" className={styles.SearchForm_button}>\r\n                        <span className={styles.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n                    \r\n                    <input\r\n                    className={styles.SearchForm_input}\r\n                    type=\"text\"\r\n                    value={this.state.name}\r\n                    onChange={this.handleChange}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    required                    \r\n                    />            \r\n                </form>\r\n            </header>  \r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from 'react';\r\n\r\nimport styles from './imageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n    state = {    }\r\n\r\n    render() {\r\n        return (\r\n            this.props.hits.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n                <li className={styles.ImageGalleryItem} key={id} >\r\n                    <img\r\n                        onClick={this.props.onClick}\r\n                        src={webformatURL}\r\n                        lowsrc={largeImageURL}\r\n                        alt={tags}\r\n                        className={styles.ImageGalleryItem_image} />\r\n                </li>\r\n            ))\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\n\r\nimport styles from './button.module.css';\r\n\r\nconst Button = ({ onClick, btnName }) => (\r\n    <button\r\n        type=\"button\"\r\n        className={styles.Button}\r\n        onClick={()=>onClick()}\r\n    >{btnName}\r\n    </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\n\r\nimport styles from './imageGallery.module.css';\r\n\r\nconst ImageGallery = ({ gallery, loadMore, showModal }) => (\r\n    <>\r\n        <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem hits={gallery} onClick={showModal}/>\r\n        </ul>\r\n        <Button onClick={loadMore} btnName=\"Load more\"/>\r\n    </>\r\n);\r\n\r\nexport default ImageGallery;\r\n\r\n","import React from 'react';\r\n\r\nimport Spinner from \"react-loader-spinner\";\r\n\r\nimport styles from './loader.module.css';\r\n\r\nconst Loader = () => (\r\n    <div className={styles.Spinner}>\r\n        <Spinner\r\n            type=\"Puff\"\r\n            color=\"#3f51b599\"\r\n            height={300}\r\n            width={300}\r\n            timeout={3000}            \r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport styles from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    state = {}\r\n    \r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackDropClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.Overlay} onClick={this.handleBackDropClick}>\r\n                <div className={styles.Modal}>                    \r\n                    {this.props.children}\r\n                </div>\r\n            </div>, modalRoot\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n","const SearchApi = (search, page) => {\r\n    const API_KEY = \"21847768-5e5b2f7eaa86d5895d80eb462\";\r\n    const URL = \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&key=\";\r\n\r\n    return (\r\n        fetch(`${URL}${API_KEY}&q=${search}&page=${page}`)\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n\r\n          return Promise.reject(\r\n            new Error(`Search request ${search} not found`),\r\n          );\r\n        }));\r\n}\r\n\r\nexport default SearchApi;","import React, { Component } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport SearchApi from './components/Services/SearchApi';\n\nimport styles from './app.module.css'\n\nclass App extends Component {\n  state = {\n    search: null,\n    gallery: [],\n    page: 1,\n    showModal: false,\n    largeImg: '',\n    loading: false,\n    loaderStatus: 'init',\n    error: null,\n  }\n\n   componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.search;\n    const nextSearch = this.state.search;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    \n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      this.setState({ loading: true });\n      \n      if (nextPage === 1 || prevSearch !== nextSearch) {\n        this.setState({ gallery: [], page: 1 });\n      }\n        SearchApi(nextSearch,nextPage)\n        .then(data => {\n          console.log(data);\n          if (nextPage !== 1) {\n            this.setState(prevState => {\n              const newData = [ ...prevState.gallery, ...data.hits ]\n              return { gallery: newData};\n            })\n          }\n          if (nextPage === 1) {\n            this.setState({ gallery: data.hits });  \n          }          \n        })\n        .catch(error => this.setState({error}))\n        .finally(() => this.setState({ loading: false }));  \n    }\n     \n    window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      }); \n  }\n\n  toggleModal = (e) => {\n    if (e) {\n      console.log(e.target);\n      this.setState({largeImg: e.target.lowsrc})\n    }\n    \n    this.setState(({showModal}) => ({\n      showModal: !showModal\n    }))\n\n  }\n\n  handleInputSubmit = (input) => {\n    this.setState({ search: input, loaderStatus: 'init' });\n  }\n\n  handleLoadMore = () => {\n    this.setState(prevState => {\n      return { page: prevState.page + 1, loaderStatus: 'loadMore' };\n    })\n  }\n\n  render() {\n    const { gallery, loading, loaderStatus, showModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n\n        <Searchbar inputSubmit={this.handleInputSubmit} />\n\n        {loading && loaderStatus === 'init' && <Loader />}\n        \n        {gallery.length > 1 && <ImageGallery\n          gallery = {gallery}\n          loadMore = {this.handleLoadMore}\n          showModal={this.toggleModal} />}\n        \n        {showModal && <Modal onClose={this.toggleModal}>\n          <img src={this.state.largeImg} alt=\"\" />\n        </Modal>}\n        \n      </div>\n    );    \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__-QnHQ\",\"SearchForm\":\"searchBar_SearchForm__2UahY\",\"SearchForm_button\":\"searchBar_SearchForm_button__3QdLl\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__38j2C\",\"SearchForm_input\":\"searchBar_SearchForm_input__thnlq\"};"],"sourceRoot":""}